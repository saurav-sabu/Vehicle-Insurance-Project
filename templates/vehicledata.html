<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Insurance Prediction</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <div class="container">
        <div class="header">
            <h1>üöó Vehicle Insurance Prediction</h1>
            <p>Intelligent AI-powered insurance recommendations</p>
        </div>

        <div class="form-card">
            <form method="post" action="/" id="predictionForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="Gender">
                            Gender 
                            <span class="info-tooltip" data-tooltip="1 for Male, 0 for Female">‚ìò</span>
                        </label>
                        <input type="number" id="Gender" name="Gender" min="0" max="1" required>
                    </div>

                    <div class="form-group">
                        <label for="Age">Age</label>
                        <input type="number" id="Age" name="Age" min="18" max="100" required>
                    </div>

                    <div class="form-group">
                        <label for="Driving_License">
                            Driving License 
                            <span class="info-tooltip" data-tooltip="0 for No, 1 for Yes">‚ìò</span>
                        </label>
                        <input type="number" id="Driving_License" name="Driving_License" min="0" max="1" required>
                    </div>

                    <div class="form-group">
                        <label for="Region_Code">Region Code</label>
                        <input type="number" step="0.01" id="Region_Code" name="Region_Code" required>
                    </div>

                    <div class="form-group">
                        <label for="Previously_Insured">
                            Previously Insured 
                            <span class="info-tooltip" data-tooltip="0 for No, 1 for Yes">‚ìò</span>
                        </label>
                        <input type="number" id="Previously_Insured" name="Previously_Insured" min="0" max="1" required>
                    </div>

                    <div class="form-group">
                        <label for="Annual_Premium">Annual Premium ($)</label>
                        <input type="number" step="0.01" id="Annual_Premium" name="Annual_Premium" min="0" required>
                    </div>

                    <div class="form-group">
                        <label for="Policy_Sales_Channel">Policy Sales Channel</label>
                        <input type="number" step="0.01" id="Policy_Sales_Channel" name="Policy_Sales_Channel" required>
                    </div>

                    <div class="form-group">
                        <label for="Vintage">Vintage (Days)</label>
                        <input type="number" id="Vintage" name="Vintage" min="0" required>
                    </div>

                    <div class="form-group">
                        <label for="Vehicle_Age">
                            Vehicle Age
                            <span class="info-tooltip" data-tooltip="0 for <1 Year, 1 for 1-2 Year and 2 for >2 Years">‚ìò</span>
                        </label>
                        <input type="number" id="Vehicle_Age" name="Vehicle_Age" min="0" max="2" required>
                    </div>

                    <div class="form-group">
                        <label for="Vehicle_Damage">
                            Vehicle Damage History 
                            <span class="info-tooltip" data-tooltip="0 for No, 1 for Yes">‚ìò</span>
                        </label>
                        <input type="number" id="Vehicle_Damage" name="Vehicle_Damage" min="0" max="1" required>
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn btn-primary" id="predictBtn">
                        üéØ Predict Insurance
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="location.href='/train'">
                        ü§ñ Train Model
                    </button>
                </div>
            </form>

            {% if context and context != "Rendering" %}
            <div class="result {{ 'yes' if context == 'Yes' else 'no' }}">
                <h2>üéâ Prediction Result</h2>
                <p><strong>Insurance Recommendation: {{ context }}</strong></p>
                {% if context == "Yes" %}
                <p>‚úÖ This customer is likely to be interested in vehicle insurance!</p>
                {% else %}
                <p>‚ùå This customer is unlikely to be interested in vehicle insurance.</p>
                {% endif %}
            </div>
            {% endif %}
        </div>
    </div>

    <script>
        // Add loading state to predict button
        document.getElementById('predictionForm').addEventListener('submit', function() {
            const btn = document.getElementById('predictBtn');
            btn.classList.add('loading');
            btn.innerHTML = 'Processing...';
            btn.disabled = true;
        });

        // Add some interactivity
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('focus', function() {
                this.parentElement.style.transform = 'scale(1.02)';
            });
            
            input.addEventListener('blur', function() {
                this.parentElement.style.transform = 'scale(1)';
            });
        });

        // Add validation feedback
        document.querySelectorAll('input[type="number"]').forEach(input => {
            input.addEventListener('input', function() {
                const isValid = this.checkValidity();
                this.style.borderColor = isValid ? '#10b981' : '#ef4444';
            });
        });
    </script>
</body>
</html>